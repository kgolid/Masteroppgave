% !TEX root= ../main.tex
\externaldocument{../binary_nands/motivation}
\section{Inconsistencies in general theories}
\label{sec:Inconsistencies in general theories}
This section will show that there exist inconsistent theories such that their inconsistencies are not possible to prove in Neg using binary NAND-clauses only.
We will prove the pigeonhole principle in Neg to exemplify this.

The pigeonhole principle states that whenever you have $n$ pigeons and $m$ holes such that $n > m$, then at least one hole must contain more than one pigeon.
We can prove this principle in Neg by proving an inconsistency of the theory that (1) all $n$ pigeons are contained in a hole and (2) each hole contains only one pigeon.

Letting the atom $x_i$ denote the pigeon $i$ occupying the hole $x$, the above theory, with $n$ pigeons and $m$ holes, can be formalized in the following way:
\begin{align}
  \text{(1):}\quad &\{ \; 1_i2_i3_i\dots m_i \;|\; i \leq n \; \}\\
  \text{(2):}\quad &\{ \; \ol{x_ix_j} \;|\; i < j \leq n, x \leq m \; \}
\end{align}
\subsection{Proving the pigeonhole principle}
\label{sub:Proving the pigeonhole principle}
The pigeonhole principle for 4 pigeons and 3 holes will have the following axioms:
\begin{align}
  \begin{split}
    \text{OR} &= \{ \; 1_12_13_1,\; 1_22_23_2,\; 1_32_33_3,\; 1_42_43_4 \; \}\\
    \text{NAND} &= \left \{
    \begin{tabular}{c}
      $\ol{1_11_2},\;\ol{1_11_3},\;\ol{1_11_4},\;\ol{1_21_3},\;\ol{1_21_4},\;\ol{1_31_4},$\\
      $\ol{2_12_2},\;\ol{2_12_3},\;\ol{2_12_4},\;\ol{2_22_3},\;\ol{2_22_4},\;\ol{2_32_4},$\\
      $\ol{3_12_2},\;\ol{3_13_3},\;\ol{3_13_4},\;\ol{3_23_3},\;\ol{3_23_4},\;\ol{3_33_4}$
    \end{tabular}
    \right \}
  \end{split}
  \label{eq:ax_pigeon}
\end{align}

From the axioms above we can prove inconsistency by first proving the three NAND-clauses $\ol{1_4}$, $\ol{2_4}$ and $\ol{3_4}$:\par
\begin{figure}[!h]
  \centering
  \begin{prooftree*}[separation=0.8em, rule margin=1ex]
    \Hypo{\ol{1_31_4}}
      \Hypo{\ol{1_21_4}}
      \Hypo{\ol{2_22_3}}
        \Hypo{\ol{1_11_4}}
        \Hypo{\ol{2_12_3}}
        \Hypo{\ol{3_13_2}}
      \Infer[right label = $1_12_13_1$]3{\ol{3_22_31_4}}
    \Infer[right label = $1_22_23_2$]3{\ol{2_31_4}}
      \Hypo{\ol{1_21_4}}
        \Hypo{\ol{1_11_4}}
        \Hypo{\ol{2_12_2}}
        \Hypo{\ol{3_13_3}}
      \Infer[right label = $1_12_13_1$]3{\ol{2_23_31_4}}
      \Hypo{\ol{3_23_3}}
    \Infer[right label = $1_22_23_2$]3{\ol{3_31_4}}
  \Infer[right label = $1_32_33_3$, separation=0em]3{\ol{1_4}}
  \end{prooftree*}
  \caption{}
  \label{fig:proof_14}
\end{figure}

\begin{figure}[!h]
  \centering
  \begin{prooftree*}[separation=0.8em, rule margin=1ex]
      \Hypo{\ol{1_21_3}}
      \Hypo{\ol{2_22_4}}
        \Hypo{\ol{1_11_3}}
        \Hypo{\ol{2_12_4}}
        \Hypo{\ol{3_13_2}}
      \Infer[right label = $1_12_13_1$]3{\ol{3_21_32_4}}
    \Infer[right label = $1_22_23_2$]3{\ol{1_32_4}}
    \Hypo{\ol{2_32_4}}
        \Hypo{\ol{1_11_2}}
        \Hypo{\ol{2_12_4}}
        \Hypo{\ol{3_13_3}}
      \Infer[left label = $1_12_13_1$]3{\ol{1_23_32_4}}
      \Hypo{\ol{2_22_4}}
      \Hypo{\ol{3_23_3}}
    \Infer[left label = $1_22_23_2$]3{\ol{3_32_4}}
  \Infer[right label = $1_32_33_3$, separation=0em]3{\ol{2_4}}
  \end{prooftree*}
  \caption{}
  \label{fig:proof_24}
\end{figure}

\begin{figure}[!h]
  \centering
  \begin{prooftree*}[separation=0.8em, rule margin=1ex]
      \Hypo{\ol{1_21_3}}
        \Hypo{\ol{1_11_3}}
        \Hypo{\ol{2_12_2}}
        \Hypo{\ol{3_13_4}}
      \Infer[left label = $1_12_13_1$]3{\ol{2_21_33_4}}
      \Hypo{\ol{3_23_4}}
    \Infer[left label = $1_22_23_2$]3{\ol{1_33_4}}
        \Hypo{\ol{1_11_2}}
        \Hypo{\ol{2_12_3}}
        \Hypo{\ol{3_13_4}}
      \Infer[left label = $1_12_13_1$]3{\ol{1_22_33_4}}
      \Hypo{\ol{2_22_3}}
      \Hypo{\ol{3_23_4}}
    \Infer[left label = $1_22_23_2$]3{\ol{2_33_4}}
    \Hypo{\ol{3_33_4}}
  \Infer[left label = $1_32_33_3$, separation=0em]3{\ol{3_4}}
  \end{prooftree*}
  \caption{}
  \label{fig:proof_34}
\end{figure}
\FloatBarrier
With these three NAND-clauses proven, we can now prove $\varnothing$ in one step:\par
\begin{figure}[!h]
  \centering
  \begin{prooftree*}[rule margin=1ex]
    \Hypo{\ol{1_4}}
    \Hypo{\ol{2_4}}
    \Hypo{\ol{3_4}}
    \Infer[left label = $1_42_43_4$]3{\varnothing}
  \end{prooftree*}
  \caption{}
  \label{fig:proof_empty}
\end{figure}
Observe that NAND-clauses of length 3 appear several times in this proof.
We will show that this is unavoidable in Neg given the axioms from \ref{eq:ax1} and \ref{eq:ax2}
\subsection{Binary-derivability}
\label{sub:Binary-derivability}
As observed in Section~\ref{sec:Motivation}, the only strategy in proving inconsistencies in Neg is to create new NAND-clauses until you have a set of unary NAND-clauses such that their union matches an OR-clause.

Now, what possible ways are there to create new NAND-clauses from our given pigeonhole axioms?
The OR-clauses are what dictates the ways new NAND-clauses can be created, and since all OR-clauses are of length 3, we get that any premise must consist of exactly 3 NAND-clauses.
In addition, since all OR-clauses contain exactly one atom from each hole, each of the three NAND-clauses must contain atoms from different holes.

Looking at the NAND-clauses in the axiom set, we see that none of them contain atoms from two different holes, so the three axiomatic NAND-clauses eligible in a premise are mutually disjoint.
Since all three are binary, we have a total of 6 different atoms in the premise, and with the OR-clause shaving of 3 of these, our conclusion must contain 3 different atoms.
Any NAND-clause derived directly from axioms must therefore be of length 3.\par
\begin{figure}[!h]
  \centering
  \begin{prooftree*}
    \Hypo{\ol{1_i1_j}}
    \Hypo{\ol{2_i2_k}}
    \Hypo{\ol{3_i3_l}}
    \Infer[left label = $1_i2_i3_i$]3{\ol{1_j2_k3_l}}
  \end{prooftree*}
  \caption{}
  \label{fig:pigeonhole_not_binary}
\end{figure}
It is easy to see that this generalizes to any version of the pigeonhole principle.
When you have $n$ holes and $>n$ pigeons, the OR-clauses will be of length $n$, requiring $n$ mutually disjoint NAND-clauses in the premise of the first proof step.
This results in a NAND-clause of length $n$ when derived directly from axioms.

This means not only that we are unable to keep the clause length at 2, but also that the size of the NAND-clauses increases with the size of the OR-clauses, which in this case coincides with the number of holes.

Since $\varnothing$ is not a part of the axioms and not directly derivable from axioms, its proof has to be of height $>2$ and must therefore include a NAND-clause of size equal to the size of the OR-clauses.
Therefore, as long as the OR-clauses are larger than 2, the inconsistency in the pigeonhole principle is not binary-derivable.
